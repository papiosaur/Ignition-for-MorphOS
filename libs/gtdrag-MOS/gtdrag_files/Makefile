# Makefile for project "gtdrag"
# Automatically generated by idltool
# 
# $Id$
# 

# Uncomment the next line if you are cross compiling
# CROSS_COMPILE = ppc-amigaos-

CC     = $(CROSS_COMPILE)ppc-morphos-gcc-11
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = delete
# RM     = rm

# Change these as required
OPTIMIZE = -O3
DEBUG    =
# -gstabs -DDEBUG
CFLAGS   =  -noixemul -D__MORPHOS__ -Wall $(OPTIMIZE) $(DEBUG) -I./main -I. -I ../include

# Flags passed to gcc during linking
LINK = -noixemul

# Name of the "thing" to build
TARGET = gtdrag.library

# Additional linker libraries
LIBS = 
#-noixemul

# Version of the library to build
VERSION = 51

# "main" Interface Source Files
main_SRCS = main/Obtain.c main/Release.c main/GTD_GetIMsg.c \
    main/GTD_ReplyIMsg.c main/GTD_FilterIMsg.c main/GTD_PostFilterIMsg.c \
    main/GTD_AddAppA.c main/GTD_RemoveApp.c main/GTD_AddWindowA.c \
    main/GTD_RemoveWindow.c main/GTD_AddGadgetA.c main/GTD_RemoveGadget.c \
    main/GTD_RemoveGadgets.c main/GTD_SetAttrsA.c main/GTD_GetAttr.c \
    main/GTD_GetHook.c main/GTD_GetString.c main/GTD_PrepareDrag.c \
    main/GTD_BeginDrag.c main/GTD_HandleInput.c main/GTD_StopDrag.c \
    main/FreeTreeList.c main/InitTreeList.c main/FreeTreeNodes.c \
    main/AddTreeNode.c main/CloseTreeNode.c main/OpenTreeNode.c \
    main/ToggleTreeNode.c main/GetTreeContainer.c main/GetTreePath.c \
    main/FindTreePath.c main/FindTreeSpecial.c main/FindListSpecial.c \
    main/ToggleTree.c main/GTD_IFFHook.c main/GTD_ImageHook.c main/GTD_TreeHook.c \
    gtdrag.c gtdrag_private.c
#
# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c

OBJS = $(main_SRCS:.c=.o)  $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles -o $(TARGET) $(OBJS) $(LIBS)

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

